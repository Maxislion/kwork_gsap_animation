(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1389],{37995:function(i,a,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favorites",function(){return e(2689)}])},59978:function(i,a,e){"use strict";var n=e(85893),s=e(41664),t=e.n(s),r=e(67294),l=e(41248),d=(e(75879),e(8534)),c=e(35722),o=e(3982),v=e(93328);a.Z=i=>{let{data:a,page:e,setPage:s,where:u}=i;const p=(0,l.I0)(),m=(0,l.v9)(c.tB),h=(0,r.useMemo)((()=>(0,d.C)(a)),[a]),g=(0,l.v9)(h),[f,j]=(0,r.useState)("num"),[x,k]=(0,r.useState)(!1),N=10*e,_=new Intl.NumberFormat("ru-RU"),b="parking"===u?g:a,w=i=>{k(f===i&&!x),j(i)};if(0===b.length){if("parking"===u)return(0,n.jsx)("div",{className:"empty-note",children:"\u041d\u0435\xa0\u043d\u0430\u0439\u0434\u0435\u043d\u043e \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u0439 \u0441\xa0\u0432\u044b\u0431\u0440\u0430\u043d\u043d\u044b\u043c\u0438 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u0430\u043c\u0438"});if("favorites1"===u)return(0,n.jsxs)("div",{className:"empty-note",children:[(0,n.jsx)("div",{children:"\u0412 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043c\u0430\u0448\u0438\u043d\u043e-\u043c\u0435\u0441\u0442"}),(0,n.jsx)(t(),{href:"/parking",className:"lnk-u",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043c\u0430\u0448\u0438\u043d\u043e-\u043c\u0435\u0441\u0442\u043e"})]});if("favorites2"===u)return(0,n.jsxs)("div",{className:"empty-note",children:[(0,n.jsx)("div",{children:"\u0412 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u043c \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u043a\u043b\u0430\u0434\u043e\u0432\u044b\u0445"}),(0,n.jsx)(t(),{href:"/parking",className:"lnk-u",children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043b\u0430\u0434\u043e\u0432\u0443\u044e"})]})}return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"parking-list",children:[(0,n.jsxs)("div",{className:"parking-item parking-item-sort",children:[(0,n.jsx)("div",{className:"parking-item-info","data-name":"num","data-active":"num"===f,onClick:()=>w("num"),children:(0,n.jsx)("span",{children:"\u041d\u043e\u043c\u0435\u0440"})}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"square","data-active":"square"===f,onClick:()=>w("square"),children:(0,n.jsxs)("span",{children:["\u041f\u043b\u043e\u0449\u0430\u0434\u044c, \u043c",(0,n.jsx)("sup",{children:"2"})]})}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"corpus","data-active":"corpus"===f,onClick:()=>w("corpus"),children:(0,n.jsx)("span",{children:"\u041a\u043e\u0440\u043f\u0443\u0441"})}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"stage","data-active":"stage"===f,onClick:()=>w("stage"),children:(0,n.jsx)("span",{children:"\u041e\u0447\u0435\u0440\u0435\u0434\u044c"})}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"price","data-active":"price"===f,onClick:()=>w("price"),children:(0,n.jsxs)("span",{children:["\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c, ",(0,n.jsx)(v.Z,{className:"rub",font:"main"})]})}),(0,n.jsx)("div",{className:"flat-fav"})]}),(C=b,C&&0!==C.length?(C="num"===f||"sqare"===f?C.sort(((i,a)=>+i[f]>+a[f]?1:+i[f]<+a[f]?-1:0)):"price"===f?C.sort(((i,a)=>{const e=i.price_discount?+i.price_discount:+i.price,n=a.price_discount?+a.price_discount:+a.price;return+e>+n?1:+e<+n?-1:0})):C.sort(((i,a)=>i[f]>a[f]?1:i[f]<a[f]?-1:0)),x&&(C=C.reverse()),C):[]).slice(0,N).map(((i,a)=>{const e=Math.floor((null===i||void 0===i?void 0:i.price_discount)&&(null===i||void 0===i?void 0:i.price_discount)!==(null===i||void 0===i?void 0:i.price)?null===i||void 0===i?void 0:i.price_discount:null===i||void 0===i?void 0:i.price),s=Math.floor((null===i||void 0===i?void 0:i.price_discount)&&(null===i||void 0===i?void 0:i.price_discount)!==(null===i||void 0===i?void 0:i.price)?null===i||void 0===i?void 0:i.price:0);return(0,n.jsxs)("div",{className:"parking-item",children:[u.includes("favorites")&&(0,n.jsx)(t(),{href:"/parking",className:"parking-item-lnk",onClick:()=>p((0,d.z_)(null===i||void 0===i?void 0:i.num))}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"num",children:null===i||void 0===i?void 0:i.num}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"square",children:_.format(null===i||void 0===i?void 0:i.square)}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"corpus",children:null===i||void 0===i?void 0:i.corpus}),(0,n.jsx)("div",{className:"parking-item-info","data-name":"stage",children:null===i||void 0===i?void 0:i.stage}),(0,n.jsxs)("div",{className:"parking-item-info","data-name":"price",children:[e&&(0,n.jsx)("div",{className:"parking-item-price-cur",children:_.format(e.toString())}),0!==s&&(0,n.jsx)("div",{className:"parking-item-price-old",children:_.format(s.toString())})]}),(0,n.jsx)(o.Z,{id:"parking-"+(null===i||void 0===i?void 0:i.type)+"-"+(null===i||void 0===i?void 0:i.id),active:m.includes("parking-"+(null===i||void 0===i?void 0:i.type)+"-"+(null===i||void 0===i?void 0:i.id))})]},a)}))]}),b.length>N&&(0,n.jsx)("div",{className:"parking-foot",children:(0,n.jsx)("div",{className:"button",onClick:()=>s(e+1),children:(0,n.jsx)("span",{children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451"})})})]});var C}},2689:function(i,a,e){"use strict";e.r(a),e.d(a,{default:function(){return b}});var n=e(85893),s=e(67294),t=e(41248),r=e(75879),l=e(35722),d=e(1176),c=e(9779),o=e(20024),v=e(94188),u=e(93628),p=e(59978);var m=i=>{let{args:a}=i;var e,m,h,g,f;const{data:j}=(0,d.DD)(a),x=null===(e=(0,d._g)(a))||void 0===e?void 0:e.data,k=null===(m=(0,d.OJ)(a))||void 0===m?void 0:m.data,N=(0,t.v9)(r.YY),_=(0,t.v9)(l.tB);if(!j)return(0,n.jsx)(c.Z,{});const[b,w]=(0,s.useState)("flats"),[C,P]=(0,s.useState)(1),S=j.flats.filter((i=>_.includes(i.id))),I=null===k||void 0===k||null===(h=k.list)||void 0===h?void 0:h.filter((i=>_.includes("commercial-"+i.id))),y=null===x||void 0===x||null===(g=x.list)||void 0===g?void 0:g.filter((i=>"1"===i.type.toString()&&_.includes("parking-1-"+i.id))),Z=null===x||void 0===x||null===(f=x.list)||void 0===f?void 0:f.filter((i=>"2"===i.type.toString()&&_.includes("parking-2-"+i.id))),q=[...S||[],...I||[],...y||[],...Z||[]].map((i=>i.id)).join(",");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.Z,{data:{title:"HIGH LIFE \u2013 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435",description:"HIGH LIFE \u2013 \u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}}),(0,n.jsx)("main",{children:(0,n.jsx)("section",{id:"favorites","data-bg":"light",children:(0,n.jsx)("div",{className:"section-content",children:(0,n.jsxs)("div",{className:"content",children:[(0,n.jsxs)("div",{className:"page-head",children:[(0,n.jsx)("h1",{className:"page-title",children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}),!N&&q.length>0&&(0,n.jsx)("a",{href:"/pdf/?ID=".concat(q),className:"button button-s button-u favorites-pdf",children:(0,n.jsx)("span",{children:"\u0441\u043a\u0430\u0447\u0430\u0442\u044c PDF"})})]}),!N&&(0,n.jsx)("span",{className:"favorites-type",children:"\u0422\u0438\u043f"}),(0,n.jsxs)("div",{className:"favorites-tabs",children:[(0,n.jsx)("div",{className:"favorites-tab","data-active":"flats"===b,onClick:()=>w("flats"),children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u044b"}),(0,n.jsx)("div",{className:"favorites-tab","data-active":"commercial"===b,onClick:()=>w("commercial"),children:"\u041a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u0438\u0435 \u043f\u043e\u043c\u0435\u0449\u0435\u043d\u0438\u044f"}),(0,n.jsx)("div",{className:"favorites-tab","data-active":"parking1"===b,onClick:()=>w("parking1"),children:"\u041c\u0430\u0448\u0438\u043d\u043e-\u043c\u0435\u0441\u0442\u0430"}),(0,n.jsx)("div",{className:"favorites-tab","data-active":"parking2"===b,onClick:()=>w("parking2"),children:"\u041a\u043b\u0430\u0434\u043e\u0432\u044b\u0435"})]}),N&&q.length>0&&(0,n.jsx)("a",{href:"/pdf/?ID=".concat(q),className:"button button-s button-u favorites-pdf",children:(0,n.jsx)("span",{children:"\u0441\u043a\u0430\u0447\u0430\u0442\u044c PDF"})}),"flats"===b&&(0,n.jsx)(v.Z,{data:{flats:S},where:"favorites"}),"commercial"===b&&(0,n.jsx)(u.Z,{data:I,page:C,setPage:P,where:"favorites"}),"parking1"===b&&(0,n.jsx)(p.Z,{data:y,page:C,setPage:P,where:"favorites1"}),"parking2"===b&&(0,n.jsx)(p.Z,{data:Z,page:C,setPage:P,where:"favorites2"})]})})})})]})},h=e(11752),g=e.n(h),f=e(12437),j=e.n(f),x=e(64338),k=e(89497),N=e(8534);const _=i=>(0,n.jsx)(m,{...i});_.getInitialProps=x.Y.getInitialPageProps((i=>async a=>{let{pathname:e,req:n,res:s}=a;var t,l;const{publicRuntimeConfig:c}=g()(),o=!!new(j())(null===n||void 0===n?void 0:n.headers["user-agent"]).mobile();n&&(null===(l=i.getState())||void 0===l||null===(t=l.site)||void 0===t?void 0:t.mobile)!==o&&i.dispatch((0,r.tq)(o));const v={apiBaseUrl:c.api};if(await i.dispatch(d.hi.endpoints.getParams.initiate(v)),await i.dispatch(d.hi.endpoints.getContacts.initiate(v)),!(0,k.UB)(i.getState())){var u;const a=await i.dispatch(d.hi.endpoints.getCommercial.initiate(v));await i.dispatch((0,k.Dv)(null===(u=a.data)||void 0===u?void 0:u.list))}if(!(0,N.UB)(i.getState())){var p;const a=await i.dispatch(d.hi.endpoints.getParking.initiate(v));await i.dispatch((0,N.Dv)(null===(p=a.data)||void 0===p?void 0:p.list))}return Promise.all(i.dispatch(d.hi.util.getRunningQueriesThunk())),{args:v,pageName:"favorites",pageTheme:"light"}}));var b=_}},function(i){i.O(0,[1254,9491,4188,3628,9774,2888,179],(function(){return a=37995,i(i.s=a);var a}));var a=i.O();_N_E=a}]);